function Forms(){}
Forms.prototype.Clean=function(oField,sType){var regexp;switch(sType){case'currency':regexp=new RegExp(/[^0-9\.]/g);oField.value=oField.value.replace(regexp,'');regexp=new RegExp(/\.[0-9]$/);if(regexp.test(oField.value)){oField.value=oField.value+'0';}
regexp=new RegExp(/\.$/);if(regexp.test(oField.value)){oField.value=oField.value+'00';}
var iDecimalIndex=oField.value.indexOf('.');if(iDecimalIndex>-1){if(iDecimalIndex+3<oField.value.length){oField.value=oField.value.substr(0,iDecimalIndex+3);}else if(iDecimalIndex==oField.value.length){oField.value+='00';}}
break;case'decimal':case'float':regexp=new RegExp(/[^0-9\.]/g);oField.value=oField.value.replace(regexp,'');oField.value=parseInt(oField.value);break;case'int':if(oField.value==''){return;}
regexp=new RegExp(/[^\d]\d{2}$/);oField.value=oField.value.replace(regexp,'');regexp=new RegExp(/[^0-9\.]/g);oField.value=oField.value.replace(regexp,'');if(oField.value.indexOf('.')>-1){oField.value=Math.round(parseFloat(oField.value));}else{oField.value=parseInt(oField.value);}
break;}}
Forms.prototype.Validate=function(f,aFields){var l=f.length;var r=new Array();var c,g,i,e,regexp,v;this.error_msg='';this.num_errors=0;for(sFieldId in aFields){e=document.getElementById(sFieldId);if(!e){continue;}
v=true;switch(e.type){case'checkbox':if((aFields[sFieldId][1]==1)&&(!e.checked)){this.ValidationError(e,aFields[sFieldId],'not checked');}
break;case'radio':if(aFields[sFieldId][1]==1){if(r[e.name]=='undefined'||r[e.name]==null){r[e.name]=1;g=eval('f.'+e.name);v=false;for(i=0;i<g.length;i++){if(g[i].checked){v=true;break;}}
if(!v){this.ValidationError(e,aFields[sFieldId],'not selected');}}}
break;case'select':case'select-one':if(aFields[sFieldId][2]=='notzero'){if(e.options[e.selectedIndex].value=='0'){this.ValidationError(e,aFields[sFieldId],'not selected');}}else{if((aFields[sFieldId][1]==1)&&(e.options[e.selectedIndex].value=='')){this.ValidationError(e,aFields[sFieldId],'not selected');}}
break;default:if(e.value==''&&aFields[sFieldId][1]==1){this.ValidationError(e,aFields[sFieldId],'not entered');}else{v=true;switch(aFields[sFieldId][2]){case'email':if(e.value!=''){e.value=e.value.toLowerCase();regexp=new RegExp(/^([a-z0-9_\.\-])+\@(([a-z0-9\-])+\.)+([a-z0-9]{2,4})+$/);v=regexp.test(e.value);}
break;case'houseprice':case'house_price':case'propertyvalue':case'property_value':if(e.value!=''){regexp=new RegExp(/[^\d\.]/g);e.value=e.value.replace(regexp,'');regexp=new RegExp(/^\d{5,8}(\.\d{2})?$/);v=regexp.test(e.value);}
break;case'postcode':if(e.value!=''){regexp=new RegExp("^(([EW]C[1-9]|(E|S?W)1)[A-Z]|(A[BL]|B[ABDHLNRST]?|C[ABFHMORTVW]|D[ADEGHLNTY]|E[HNX]?|F[KY]|G[LUY]?|H[ADGPRSUX]|I[GMPV]|[JZ]E|K[ATWY]|L[ADELNSU]?|M[EKL]?|N[EGNPRW]?|O[LX]|P[AEHLOR]|R[GHM]|S[AEGK-PRSTWY]?|T[ADFNQRSW]|UB|W[ADFNRSV]?|YO)[0-9]{1,2}) ?[0-9][ABD-HJLNP-UW-Z]{2}|BFPO ?[1-9][0-9]{0,3}$","i");v=regexp.test(e.value);}
break;case'telephone':if(e.value!=''){regexp=new RegExp(/[^\d]/g);e.value=e.value.replace(regexp,'');regexp=new RegExp(/^0(1|2|3|5|7|8)\d{8,9}$/);v=regexp.test(e.value);}
break;default:}
if(!v){this.ValidationError(e,aFields[sFieldId],'not valid');}}}}
if(this.num_errors>0){alert('We are sorry, but please could you correct the following\nerrors in order to help us provide a more efficient service?\n'+this.error_msg);}
return(this.num_errors==0)?true:false;}
Forms.prototype.ValidationError=function(oField,aConfig,sError){this.num_errors++;switch(oField.type){case'checkbox':this.error_msg+='\n &#8211; '+aConfig[0]+' '+sError;break;case'radio':case'select':case'select-one':this.error_msg+='\n &#8211; '+aConfig[0]+' '+sError;break;default:this.error_msg+='\n &#8211; '+aConfig[0]+' '+sError;}}
var F=new Forms();